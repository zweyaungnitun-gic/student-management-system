<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

  <head th:fragment="head(pageTitle)">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title th:text="${pageTitle} ?: 'GIC Online Test | Admin Dashboard'">GIC Online Test | Admin Dashboard</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" th:href="@{/css/dashboard.css}" />
  </head>

  <body>
    <th:block th:fragment="sidebar">
      <aside class="dashboard-sidebar glass-panel">
        <div class="sidebar-brand gap-3">
          <div class="brand-badge bg-white shadow-sm">
            <img th:src="@{/images/gic-logo.png}" alt="GIC logo" />
          </div>
          <div>
            <p class="text-uppercase fw-semibold mb-0 small text-muted">
              Admin Center
            </p>
            <h5 class="mb-0">GIC Online Tests</h5>
          </div>
        </div>

        <div class="sidebar-user">
          <div class="d-flex align-items-center gap-3">
            <img
              class="user-avatar"
              th:src="@{/images/profile.png}"
              alt="User avatar"
            />
            <div>
              <p class="mb-0 fw-semibold" th:text="${#authentication.principal.username}">Username</p>
              <small class="text-muted" th:text="${#authentication.principal.authorities[0].authority}">Role</small>
            </div>
          </div>
          <div class="badge badge-muted fw-medium mt-3 w-100 text-center">
            Verified Account
          </div>
        </div>

        <div>
          <p class="sidebar-label">Overview</p>
          <nav class="sidebar-nav">
            <a class="sidebar-link" th:classappend="${#strings.equals(currentPage, 'dashboard')} ? 'active'" th:href="@{/dashboard}">
              <i class="bi bi-grid-1x2-fill"></i>
              <span>Dashboard</span>
            </a>
            <a class="sidebar-link" th:classappend="${#strings.equals(currentPage, 'employees')} ? 'active'" th:href="@{/employees}">
              <i class="bi bi-people"></i>
              <span>Student</span>
            </a>
            <a class="sidebar-link" th:classappend="${#strings.equals(currentPage, 'users')} ? 'active'" th:href="@{/users}" sec:authorize="hasRole('ADMIN')">
              <i class="bi bi-people-fill"></i>
              <span>Users</span>
              <span th:if="${#strings.equals(currentPage, 'users')}" class="sidebar-pill">Now</span>
            </a>
            <a class="sidebar-link" th:href="@{/logout}">
              <i class="bi bi-box-arrow-right"></i>
              <span>Logout</span>
            </a>
          </nav>
        </div>


      </aside>
    </th:block>

    <th:block th:fragment="topbar">
      <header class="dashboard-topbar">
        <div class="d-flex align-items-center gap-3">
          <button
            class="btn btn-light btn-icon d-lg-none"
            type="button"
            aria-label="Toggle sidebar"
            data-sidebar-toggle
          >
            <i class="bi bi-list fs-4"></i>
          </button>
          <div>
            <p class="text-uppercase text-muted small fw-semibold mb-1">
              <span th:text="${pageSubtitle} ?: 'Welcome back'">Welcome back</span>
            </p>
            <h4 class="mb-0" th:text="${pageTitle} ?: 'Admin Dashboard'">Admin Dashboard</h4>
          </div>
        </div>

        <div class="topbar-actions">
          <div class="topbar-search d-none d-md-flex">
            <i class="bi bi-search"></i>
            <input
              type="search"
              class="form-control border-0 bg-transparent shadow-none p-0"
              placeholder="Search..."
            />
          </div>
          <th:block th:fragment="topbar-actions">
            <button class="btn btn-primary d-flex align-items-center gap-2">
              <i class="bi bi-plus-lg"></i>
              <span class="d-none d-sm-inline">New</span>
            </button>
          </th:block>
        </div>
      </header>
    </th:block>
  </body>
</html>
